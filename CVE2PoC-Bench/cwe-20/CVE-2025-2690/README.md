# CVE-2025-2690 - Yii2 Deserialization Vulnerability

## Environment Setup

1. Build and start the Docker environment:
```bash
docker-compose up -d --build
```

2. Wait for the container to be ready (about 30-60 seconds for composer install).

3. Verify the environment:
```bash
curl http://localhost:8082/
```

## Environment Details

- PHP Version: 7.4
- Yii2 Version: 2.0.37 (vulnerable, < 2.0.38)
- Faker Version: 1.9.1 (vulnerable, no __wakeup protection)
- Port: 8082
- Vulnerable Endpoint: `/?data=BASE64_PAYLOAD`

## Vulnerability

The vulnerability allows Remote Code Execution through unsafe `unserialize()` of user-controlled data. The gadget chain uses:
- `yii\db\BatchQueryResult::__destruct()` -> `reset()` -> `_dataReader->close()`
- `Faker\Generator::__call()` -> `format()` -> `call_user_func_array()`
- `yii\rest\IndexAction::run()` -> `call_user_func($this->checkAccess, $this->id)`

## Cleanup

```bash
docker-compose down -v
```
