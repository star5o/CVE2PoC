import { NextResponse } from 'next/server'

export function middleware(request) {
    // Protect /admin route
    if (request.nextUrl.pathname.startsWith('/admin')) {
        const authHeader = request.headers.get('authorization')
        // Simple authentication check
        if (authHeader !== 'Bearer secret-token') {
            return new NextResponse(
                JSON.stringify({ success: false, message: 'authentication failed' }),
                { status: 401, headers: { 'content-type': 'application/json' } }
            )
        }
    }
    return NextResponse.next()
}

export const config = {
    matcher: '/admin/:path*',
}
