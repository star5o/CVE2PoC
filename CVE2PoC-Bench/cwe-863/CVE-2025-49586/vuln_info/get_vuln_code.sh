#!/bin/bash
set -e

# Repository URL
REPO_URL="https://github.com/xwiki/xwiki-platform.git"
# XWiki 16.4.0 Tag
TAG="xwiki-platform-16.4.0"

TARGET_DIR="source_code"

# Create target directory if it doesn't exist
mkdir -p "$TARGET_DIR"

echo "[+] Cloning XWiki Platform repository..."
# Clone only the specific tag to save time and space
git clone --depth 1 --branch "$TAG" "$REPO_URL" "$TARGET_DIR"

echo "[+] Checkout complete. Source code is in $TARGET_DIR"
