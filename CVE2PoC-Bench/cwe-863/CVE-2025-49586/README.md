# CVE-2025-49586 Reproduction Environment

This directory contains the Docker-based reproduction environment for accessing a vulnerable version of XWiki (CVE-2025-49586).
Follow the instructions below to start the environment and perform the necessary initial setup.

## 1. Startup

Start the environment using Docker Compose:

```bash
docker-compose up -d
```

This will start:
- **XWiki (Web)**: Port 8080 (Vulnerable version 16.4.0)
- **PostgreSQL**: Database backend

## 2. Initialization (Required)

After the container starts, XWiki requires a one-time manual initialization to install the standard flavor (which includes the "App Within Minutes" extension required for this vulnerability).

1.  **Access the Wizard**: 
    Open your browser and navigate to: `http://localhost:8080` (or your server IP).
    *Note: It may take a minute for XWiki to initialize. If the page doesn't load immediately, wait a moment and refresh.*

2.  **Welcome**: 
    Click **"Continue"** on the Distribution Wizard welcome screen.

3.  **Admin User**:
    Create an administrative user.
    - **First Name**: `Admin`
    - **Last Name**: `User`
    - **Username**: `admin`
    - **Password**: `admin` (or your preferred password)
    - Click **"Register and Login"**.

4.  **Flavor Selection (CRITICAL)**:
    - Select **"XWiki Standard"** flavor from the list.
    - Click **"Install this flavor"**.
    - **Why?** This installs the core applications, including "App Within Minutes," which is the target of this vulnerability. An empty wiki cannot reproduce the issue.

5.  **Extensions**:
    Wait for the installation to complete (this might take a few minutes). Once finished, click **"Continue"**. You do not need to add extra extensions.

6.  **Finish**:
    Complete the wizard to reach the XWiki homepage.

## 3. Environment Details

- **URL**: `http://localhost:8080/xwiki`
- **Credentials**: The `admin` user you created in step 2.
- **Target Component**: The "App Within Minutes" application should now be accessible in the Applications panel.

## 4. Source Code

The vulnerable source code for reference is located in:
`vuln_info/source_code/` (XWiki Platform 16.4.0)

## 5. Cleanup

To stop and remove the environment (including data):

```bash
docker-compose down -v
```
