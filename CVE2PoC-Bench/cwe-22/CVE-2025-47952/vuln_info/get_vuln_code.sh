#!/bin/bash
REPO_URL="https://github.com/traefik/traefik.git"
VULN_TAG="v3.4.0"
TARGET_DIR="$(dirname "$0")/source_code"

rm -rf "$TARGET_DIR"
git clone --depth 100 --branch "$VULN_TAG" "$REPO_URL" "$TARGET_DIR"
cd "$TARGET_DIR"
git checkout "$VULN_TAG"
echo "Checked out to $VULN_TAG"
