CREATE EXTENSION IF NOT EXISTS postgis;

CREATE TABLE IF NOT EXISTS locations (
    gid SERIAL PRIMARY KEY,
    name VARCHAR(100),
    category VARCHAR(50),
    secret_data VARCHAR(200),
    geom GEOMETRY(Point, 4326)
);

INSERT INTO locations (name, category, secret_data, geom) VALUES
('Location A', 'public', 'FLAG{CVE-2025-59431-SQL-INJECTION}', ST_SetSRID(ST_MakePoint(-73.9857, 40.7484), 4326)),
('Location B', 'public', 'normal_data_1', ST_SetSRID(ST_MakePoint(-73.9680, 40.7851), 4326)),
('Location C', 'private', 'normal_data_2', ST_SetSRID(ST_MakePoint(-74.0060, 40.7128), 4326)),
('Location D', 'public', 'normal_data_3', ST_SetSRID(ST_MakePoint(-73.9712, 40.7831), 4326)),
('Location E', 'private', 'normal_data_4', ST_SetSRID(ST_MakePoint(-73.9851, 40.7589), 4326));

CREATE INDEX locations_geom_idx ON locations USING GIST (geom);
