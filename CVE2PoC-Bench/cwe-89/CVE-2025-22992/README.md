# CVE-2025-22992 - Emoncms SQL Injection

## Environment Setup

### Requirements

- Docker
- Docker Compose

### Start Environment

```bash
cd /path/to/CVE-2025-22992
docker-compose up -d
```

Wait approximately 60 seconds for the database to initialize.

### Access

- URL: http://localhost:8091
- Default port: 8091

### Initial Setup

1. Access http://localhost:8091 in browser
2. Click "register" to create a new user account
3. Fill in email, username, password fields
4. After registration, note the API keys displayed

Alternatively, register via API:

```bash
curl -X POST "http://localhost:8091/user/register.json" \
  -d "email=admin@test.com&username=admin&password=admin123&confirm_password=admin123"
```

Response will contain `apikey_write` needed for exploitation.

### Create MySQL Engine Feed

Before exploitation, create a feed with MySQL engine:

```bash
curl "http://localhost:8091/feed/create.json?apikey=<WRITE_API_KEY>&tag=test&name=testfeed&engine=0"
```

Note the `feedid` from the response.

### Stop Environment

```bash
docker-compose down -v
```

## Notes

- The vulnerability requires a feed created with MySQL/MariaDB engine (engine=0)
- API key with write permissions is required
- Environment uses port 8091 by default
