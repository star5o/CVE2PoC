# CVE-2025-22930 Reproduction Environment

SQL injection vulnerability in OS4ED openSIS v7.0 to v9.1 via the groupid parameter at /messaging/Group.php.

## Environment Setup

### 1. Build and start the containers

The web service is built from `gaief/opensis-classic` with PHP config pre-applied (max_execution_time=300, max_input_time=300) so the installation wizard does not timeout during database preparation.

```bash
docker-compose up -d --build
```

### 2. Wait for containers to be ready

```bash
docker-compose ps
```

Both `opensis-web` and `opensis-db` should show "running" status.

### 3. Grant database privileges

```bash
docker exec opensis-db mysql -uroot -proot123 -e "GRANT ALL PRIVILEGES ON *.* TO 'opensis'@'%'; FLUSH PRIVILEGES;"
```

### 4. Complete installation via browser

Open http://localhost:8089/install/index.php and follow the installation wizard:

1. Click "New Installation"
2. Click "Continue" on system requirements check
3. Configure database connection:
   - Server: db
   - Port: 3306
   - MySQL Username: opensis
   - MySQL Password: opensis123
4. Select "Create new database", enter database name (e.g., opensis2)
5. Click "Save & Next" and wait for database preparation (about 40 seconds)
6. Enter school information:
   - School Name: TestSchool
   - Beginning Date: 01/01/2026
   - Ending Date: 12/31/2026
7. Create admin account:
   - First Name: Admin
   - Last Name: User
   - Username: admin
   - Password: Admin123!
8. Complete the installation

### 5. Login to the system

Navigate to http://localhost:8089/index.php and login with:
- Username: admin
- Password: Admin123!

## Run the PoC

```bash
conda activate poc
python exp_workspace/poc.py
```

## Cleanup

```bash
docker-compose down -v
```
