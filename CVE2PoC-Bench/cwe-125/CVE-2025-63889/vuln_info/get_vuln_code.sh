#!/bin/bash

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
SOURCE_DIR="$SCRIPT_DIR/source_code"

if [ -d "$SOURCE_DIR" ]; then
    echo "source_code directory already exists, removing..."
    rm -rf "$SOURCE_DIR"
fi

mkdir -p "$SOURCE_DIR"

echo "Cloning ThinkPHP framework v5.0.24..."
git clone --branch v5.0.24 --depth 1 https://github.com/top-think/framework.git "$SOURCE_DIR"

if [ $? -eq 0 ]; then
    echo "Successfully cloned ThinkPHP framework v5.0.24 to $SOURCE_DIR"
else
    echo "Failed to clone repository"
    exit 1
fi
